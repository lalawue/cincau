#!/usr/bin/env luajit

--
-- detect env
--

local engine_type, proj_dir = ...

if not jit then
    print("Only support LuaJIT !")
    os.exit(0)
end

if engine_type ~= "mnet" and engine_type ~= "nginx" then
    print("Usage: cincau [mnet|nginx] /tmp/demo")
    os.exit(0)
end

--
-- create cincau project skeleton
--

local ver = pcall(require, 'cincau.base.version')
if ver then
    print("version:", ver.version)
    require("moocscript.core")
    local Proj = require("cincau_prepare")
    Proj.createProjectSkeleton(core_dir, proj_dir, engine_type)
else
    print("Can not found cincau, exit !")
    os.exit(0)
end